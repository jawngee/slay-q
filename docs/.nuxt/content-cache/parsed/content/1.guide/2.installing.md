{"parsed":{"_path":"/guide/installing","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Using In Your App","description":"","icon":"ri:settings-3-line","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"using-in-your-app"},"children":[{"type":"text","value":"Using In Your App"}]},{"type":"element","tag":"h2","props":{"id":"installing-into-your-app"},"children":[{"type":"text","value":"Installing Into Your App"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"npm install @slaypics/slay-q\n","filename":"npm","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" @slaypics/slay-q\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"yarn install @slaypics/slay-q\n","filename":"yarn","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" @slaypics/slay-q\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"pnpm install @slaypics/slay-q\n","filename":"pnpm","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" @slaypics/slay-q\n"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Additionally, you'll need to select a driver package to connect to your database:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/@slay-pics/slay-q-supabase","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@slay-pics/slay-q-supabase"}]}]},{"type":"text","value":" - Supabase driver that uses "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@supabase/supabase-js"}]},{"type":"text","value":" to connect to supabase."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/@slay-pics/slay-q-postgres","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@slay-pics/slay-q-postgres"}]}]},{"type":"text","value":" - Driver that talks directly to Postgres via "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pg"}]},{"type":"text","value":" package."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/@slay-pics/slay-q-rpc","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@slay-pics/slay-q-rpc"}]}]},{"type":"text","value":" - Driver that talks to a "},{"type":"element","tag":"a","props":{"href":"https://github.com/SlayPics/SlayUtils/tree/main/apps/slay-ingest","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"slay-q-ingest"}]}]},{"type":"text","value":" instance.  The Slay Q ingest is an HTTP RPC server.  See the nuxt example app for an example of its use."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the bulk of your app is using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"supabase-js"}]},{"type":"text","value":" to access Supabase then choose the Supabase driver.  Otherwise, if you are using\nsomething like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pg"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"drizzle"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"knex"}]},{"type":"text","value":" then use the Postgres driver."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you'd like to futureproof your app a little, using the RPC driver but know that you'll have to deploy the RPC Ingest Server\nalongside the SlayQ server.  It deploys easily on Vercel and other serverless providers."}]},{"type":"element","tag":"h3","props":{"id":"environment-variables"},"children":[{"type":"text","value":"Environment Variables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can configure the driver by passing in options to the constructor, or alternatively you can specify the following environment variables,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the supabase driver:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SUPABASE_URL"}]},{"type":"text","value":" - URL to your supabase instance"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SUPABASE-SERVICE-KEY"}]},{"type":"text","value":" - Service key for your supabase instance"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the postgres driver:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DATABASE_URL"}]},{"type":"text","value":" - The database connection string url"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the Ingest RPC driver:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SLAY_Q_WORKER_SECRET"}]},{"type":"text","value":" - Shared secret used to validate RPC requests"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SLAY_Q_INGEST_ENDPOINT"}]},{"type":"text","value":" - URL to the slay-q ingest endpoint"}]}]},{"type":"element","tag":"h2","props":{"id":"running-the-dev-server"},"children":[{"type":"text","value":"Running the Dev Server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To get started quickly, you can run the dev server locally:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"npx giget@latest gh:SlayPics/SlayUtils/docker slayq-docker\ncd slayq-docker\ndocker compose up -d\n","filename":"shell","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" giget@latest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" gh:SlayPics/SlayUtils/docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" slayq-docker\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" slayq-docker\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" compose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" up"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" -d\n"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will launch three containers: a postgres instance, the Slay Ingest RPC server and the SlayQ server.  You should configure\nyour client ("},{"type":"element","tag":"a","props":{"href":"/guide/server"},"children":[{"type":"text","value":"read more"}]},{"type":"text","value":") with the RPC driver using the following environment variables and values:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"SLAY_Q_WORKER_SECRET=G,4DgB$.?>X]\"w}w1745Xq2nKoM4BG74\nSLAY_Q_INGEST_ENDPOINT=http://localhost:3012\n","filename":".env","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"SLAY_Q_WORKER_SECRET"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"G,4DgB"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"$"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"?>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"X]\"w}w1745Xq2nKoM4BG74\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"SLAY_Q_INGEST_ENDPOINT=http://localhost:3012\n"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"next-steps"},"children":[{"type":"text","value":"Next Steps"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you've installed the packages and have the dev server running:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guide/functions"},"children":[{"type":"text","value":"Write some functions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/guide/client"},"children":[{"type":"text","value":"Configure the client"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"installing-into-your-app","depth":2,"text":"Installing Into Your App","children":[{"id":"environment-variables","depth":3,"text":"Environment Variables"}]},{"id":"running-the-dev-server","depth":2,"text":"Running the Dev Server"},{"id":"next-steps","depth":2,"text":"Next Steps"}]}},"_type":"markdown","_id":"content:1.guide:2.installing.md","_source":"content","_file":"1.guide/2.installing.md","_extension":"md"},"hash":"p7a4MlDl5y"}